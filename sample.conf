# Sample Quantumult Configuration
# Quantumult 配置示例

# [general]
# Line started with ";" or "#" or "//" shall be comments.
# 以 ";" 或 "#" 或 "//" 开头的行为注释行。
#
# SS-URI scheme can be found at https://shadowsocks.org/en/spec/SIP002-URI-Scheme.html
# SS-URI scheme 可在 https://shadowsocks.org/en/spec/SIP002-URI-Scheme.html 找到

#
# Quantumult uses HEAD method send HTTP request to the server_check_url to test the proxy's status, the results should be two latencies, the first one is TCP handshake to the proxy server, the second one is the HTTP latency(The duration between Quantumult successfully received the HTTP response from the server_check_url and Quantumult start sending the HTTP request to the server_check_url). The lightning icon means that the TCP fast open is successful. If the server in section [server_local] or section [server_remote] has its own server_check_url, its own server_check_url will be used instead of the server_check_url in section [general].
# Quantumult 使用 HEAD 方法向 server_check_url 发送 HTTP 请求来测试代理的状态，结果应该显示两个延迟值：第一个是与代理服务器的 TCP 握手延迟，第二个是 HTTP 延迟（从 Quantumult 开始发送 HTTP 请求到 server_check_url 到成功接收到 HTTP 响应的持续时间）。闪电图标表示 TCP 快速打开成功。如果 [server_local] 或 [server_remote] 部分中的服务器有自己的 server_check_url，将使用其自己的 server_check_url 而不是 [general] 部分中的 server_check_url。
#
# Quantumult 界面中的延迟测试方式均为网页响应性测试，显示的最终延迟均为通过对应节点访问测试网页的 HTTP 延迟。
# 由于 Trojan 协议为无响应校验协议，使得 HTTP 检测方式即使获得了 HTTP 响应，也不代表节点一定可用。
#
# The dns_exclusion_list contains the domains that disabled the placeholder IP(198.18.0.0/15) mapping mechanism. Domains that are not in the dns_exclusion_list have the placeholder IP mapping mechanism enabled and have the so called "resolve-on-remote" effect. The DNS query for domains in the dns_exclusion_list may or may not follow the settings in [dns] section.
# dns_exclusion_list 包含了禁用占位 IP(198.18.0.0/15) 映射机制的域名。不在 dns_exclusion_list 中的域名启用了占位 IP 映射机制，并具有所谓的"远程解析"效果。对 dns_exclusion_list 中域名的 DNS 查询可能会或可能不会遵循 [dns] 部分中的设置。
#
# The enhanced_compatibility_ssid_list will be considered when global option 「Enhanced Compatibility」 is off in misc settings.
# 当杂项设置中的全局选项「兼容性增强」关闭时，将考虑 enhanced_compatibility_ssid_list 中的设置。
#
# The udp_whitelist contains the destination UDP port, empty means all the ports are in udp_whitelist. UDP packets(through Quantumult tunnel interface) with destination ports that are not in the udp_whitelist will be dropped and the ICMP(port unreachable) messages will be sent back. This setting has nothing to do with the filter rules or policies and has nothing to do with the proxy(server) port either.
# udp_whitelist 包含目标 UDP 端口，空表示所有端口都在 udp_whitelist 中。目标端口不在 udp_whitelist 中的 UDP 数据包（通过 Quantumult 隧道接口）将被丢弃，并发送回 ICMP（端口不可达）消息。此设置与过滤规则或策略无关，也与代理（服务器）端口无关。

# The udp_drop_list contains the destination UDP port, the mechanism is similar to the udp_whitelist dropping the UDP packets, but will not send back the ICMP messages. Only UDP packets allowed by udp_whitelist can be caught by the udp_drop_list.
# udp_drop_list 包含目标 UDP 端口，机制类似于 udp_whitelist 丢弃 UDP 数据包，但不会发送回 ICMP 消息。只有被 udp_whitelist 允许的 UDP 数据包才能被 udp_drop_list 捕获。
#
# The traffic to excluded_routes will not be handled by Quantumult. It is better to reboot your device after modification.
# 发往 excluded_routes 的流量将不会由 Quantumult 处理。修改后最好重启设备。
#
# By default("loopback") when a domain rejected at DNS level the loopback IP response will be returned, you can change this behavior by setting dns_reject_domain_behavior to "no-error-no-answer" or "nxdomain" or "none". This will change the behavior to responding with NOERROR NOANSWER response or responding with NXDOMAIN response or none to disable the DNS level rejection feature. If you change the rejected domain to non-rejected(by changing configuration, filter or policy), it may take at most 10 seconds to take effect(TTL 10).
# 默认情况下("loopback")，当域名在 DNS 级别被拒绝时，将返回环回 IP 响应，您可以通过将 dns_reject_domain_behavior 设置为 "no-error-no-answer" 或 "nxdomain" 或 "none" 来更改此行为。这将更改行为为响应 NOERROR NOANSWER 响应或响应 NXDOMAIN 响应或禁用 DNS 级别拒绝功能。如果您将被拒绝的域名更改为非拒绝（通过更改配置、过滤器或策略），可能最多需要 10 秒才能生效（TTL 10）。
#
# The resource_parser_url sample can be found at https://raw.githubusercontent.com/crossutility/Quantumult-X/master/resource-parser.js
# resource_parser_url 示例可在 https://raw.githubusercontent.com/crossutility/Quantumult-X/master/resource-parser.js 找到

# The server_check_timeout value will only be considered if it less than or equal to 5000 (milliseconds). This value is compared with the total duration of the checking process including the DNS query, TCP handshake, TLS handshake and the application layer HTTP session duration, so the total duration may significantly longer than the "TCP handshake" and the "HTTP session duration".
# server_check_timeout 值仅在小于或等于 5000（毫秒）时才会被考虑。此值与检查过程的总持续时间进行比较，包括 DNS 查询、TCP 握手、TLS 握手和应用层 HTTP 会话持续时间，因此总持续时间可能明显长于"TCP 握手"和"HTTP 会话持续时间"。

[general]
;profile_img_url =http://www.example.com/example.png
;resource_parser_url =http://www.example.com/parser.js
;network_check_url =http://bing.com
;server_check_url =http://www.google.com/generate_204
;server_check_user_agent = Agent/1.0
;server_check_timeout = 5000
;doh_user_agent = Agent/1.0
;geo_location_checker = http://www.example.com/json/, https://www.example.com/script.js
;running_mode_trigger = filter, filter, LINK_22E171:all_proxy, LINK_22E172:all_direct
dns_exclusion_list = *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me
;dns_reject_domain_behavior = loopback
;ssid_suspended_list = LINK_22E174, LINK_22E175
;enhanced_compatibility_ssid_list = LINK_22E174, LINK_22E175
;udp_whitelist = 53, 123, 1900, 80-443
;udp_drop_list = 1900, 80
;excluded_routes = 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8
;icmp_auto_reply = true

# [dns]
# The DNS servers fetched from current network(system) will always be used for better performance(you can disable this feature by using "no-system", but you should at least add one customized DNS server like "server=223.5.5.5").
# 从当前网络（系统）获取的 DNS 服务器将始终用于获得更好的性能（您可以使用 "no-system" 禁用此功能，但您应至少添加一个自定义 DNS 服务器，如 "server=223.5.5.5"）。
# When no-ipv6 is set, the DNS module of Quantumult X Tunnel will directly let the AAAA query fail but still allow the A query from IPv6 DNS servers.
# 当设置 no-ipv6 时，Quantumult X Tunnel 的 DNS 模块将直接使 AAAA 查询失败，但仍允许来自 IPv6 DNS 服务器的 A 查询。
# The result of query will only be used for evaluating filter or connecting through direct policy, when connecting through server the result will not be used and Quantumult will never know the destination IP of related domain.
# 查询结果仅用于评估过滤器或通过直连策略连接，当通过服务器连接时，结果将不会被使用，Quantumult 永远不会知道相关域名的目标 IP。
# When prefer-doh3 is set, the DoH query will try DNS over HTTP3, if it fails then the query connection will fallback to the HTTP2. Since the multiplexing are supported by HTTP/2 and HTTP/3 connections, when you change this setting, it might not take effect immediately but you can reconnect the Quantumult X Tunnel or manually change your network environment to let it take effect immediately.
# 当设置 prefer-doh3 时，DoH 查询将尝试通过 HTTP3 进行 DNS 查询，如果失败，查询连接将回退到 HTTP2。由于 HTTP/2 和 HTTP/3 连接支持多路复用，当您更改此设置时，可能不会立即生效，但您可以重新连接 Quantumult X Tunnel 或手动更改网络环境以使其立即生效。
# When doh-server (DNS over HTTPS) or doq-server (DNS over QUIC) is set, system and all other non-encrypted regular(no specific domains are bond to it) servers will be ignored. The default port for DoQ is 853, if there is a mutual agreement to use another port like 456 for your DoQ, you can set it as quic://dns.example.com:456
# 当设置 doh-server（DNS over HTTPS）或 doq-server（DNS over QUIC）时，系统和所有其他非加密常规（没有特定域名绑定到它）服务器将被忽略。DoQ 的默认端口是 853，如果有共同协议使用另一个端口（如 456）用于您的 DoQ，您可以将其设置为 quic://dns.example.com:456
# Multiple(concurrent query) doq-server(s) or doh-server(s) should be configured in one line and the URLs should be separated by comma. When both doq-server(s) and doh-server(s) are set, the query will be sent to all of the servers simultaneously.
# 多个（并发查询）doq-server 或 doh-server 应在一行中配置，URL 应以逗号分隔。当同时设置 doq-server 和 doh-server 时，查询将同时发送到所有服务器。
# If the iOS version is < iOS 13.0, the max number of doh-servers will be limited to 1. If the iOS version is < iOS 15.0, the max number of doh-servers will be limited to 2.
# 如果 iOS 版本 < iOS 13.0，doh-servers 的最大数量将限制为 1。如果 iOS 版本 < iOS 15.0，doh-servers 的最大数量将限制为 2。
# Specially directly set 127.0.0.1 for a domain is not allowed in here. if you want some domain(eg: example.com) to be 127.0.0.1, just add "host, example.com, reject" to the "filter_local" section. The reject action will return DNS response with 127.0.0.1 to the query.
# 在此处不允许直接为域名设置 127.0.0.1。如果您希望某些域名（例如：example.com）为 127.0.0.1，只需将 "host, example.com, reject" 添加到 "filter_local" 部分。reject 操作将向查询返回带有 127.0.0.1 的 DNS 响应。
#
# The circumvent-ipv4-answer and circumvent-ipv6-answer are related to upstream DNS. If the A or AAAA result(IP) from upstream is matched by this field, the result will be ignored and marked as failed. If multiple queries sent to different upstream DNS servers, and the first responded upstream result is matched by this field, Quantumult X Tunnel DNS module will wait for other upstream servers' results.
# circumvent-ipv4-answer 和 circumvent-ipv6-answer 与上游 DNS 服务器有关。当上游 DNS 返回的 IP 地址(A 记录或 AAAA 记录)与这些参数设置的值匹配时,该结果会被忽略并标记为失败。如果向多个上游 DNS 服务器发送查询请求,且第一个响应的上游服务器返回的结果与这些参数匹配,Quantumult X 的 DNS 模块会等待其他上游服务器的查询结果。
# The ? and * can be used in circumvent-ipv4-answer and circumvent-ipv6-answer.
# ? 和 * 可以在 circumvent-ipv4-answer 和 circumvent-ipv6-answer 中使用。
# If you are using ads related upstream DNS, please leave circumvent-ipv4-answer and circumvent-ipv6-answer empty.
# 如果您使用与广告相关的上游 DNS，请将 circumvent-ipv4-answer 和 circumvent-ipv6-answer 留空。
#
[dns]
;circumvent-ipv4-answer = 127.0.0.1, 0.0.0.0
;circumvent-ipv6-answer = ::
;prefer-doh3
;no-system
no-ipv6
server = 223.5.5.5
server = 114.114.114.114
server = 119.29.29.29
server = 8.8.8.8
;doq-server = quic://dns.adguard.com
;doq-server = quic://dns1.example.com, quic://dns2.example.com
;doq-server = quic://dns.adguard.com, excluded_ssids=SSID1
;doq-server = quic://dns.adguard.com, included_ssids=SSID2
;doh-server = https://dns.alidns.com/dns-query
;doh-server = https://exmaple1.com/dns-query, https://exmaple2.com/dns-query
;doh-server = https://223.6.6.6/dns-query, excluded_ssids=SSID1
;doh-server = https://223.5.5.5/dns-query, included_ssids=SSID2
;server = 8.8.8.8:53, excluded_ssids=SSID1
;server = 8.8.4.4:53, included_ssids=SSID2
;server = /example0.com/system
;server = /example1.com/8.8.4.4
;server = /*.example2.com/223.5.5.5
;doh-server = /*.example3.com/https://doh.pub/dns-query, excluded_ssids=SSID2
;doq-server = /*.example4.com/quic://dns.adguard.com, excluded_ssids=SSID3
;server = /example4.com/[2001:4860:4860::8888]:53
;address = /example5.com/192.168.16.18
;address = /example6.com/[2001:8d3:8d3:8d3:8d3:8d3:8d3:8d3]
;alias = /example7.com/another-example.com

# [policy]
# static policy points to the server in candidates you manually selected.
# static 策略指向您手动选择的候选服务器。
# available policy points to the first available server in candidates based on server_check_url(concurrent url latency test will be immediately launched when the policy has been triggered and the policy result is unavailable. If no network request is taking the policy at that time, that means the policy is in the idle state and the test won't be launched even if the server is down. At that time you can update the server status by manually launching the test, but it doesn't make any sense).
# available 策略根据 server_check_url 指向候选服务器中第一个可用的服务器（当策略被触发且策略结果不可用时，将立即启动并发 URL 延迟测试。如果当时没有网络请求使用该策略，则表示该策略处于空闲状态，即使服务器宕机，测试也不会启动。此时，您可以通过手动启动测试来更新服务器状态，但这没有实际意义）。
# round-robin policy points to the next server in candidates for next connection.
# round-robin 策略为下一个连接指向候选服务器中的下一个服务器。
# dest-hash policy points to the server according to hash function that uses the destination address (domain or IP) as input. This policy is particularly useful for use cases that require session persistence. Adding or removing servers from the policy may change the results.
# dest-hash 策略根据使用目标地址（域名或 IP）作为输入的哈希函数指向服务器。此策略对需要会话持久性的用例特别有用。从策略中添加或删除服务器可能会改变结果。
# url-latency-benchmark policy points to the server with the best (the param tolerance ms will be considered) url latency result. When the user starts the url test in Quantumult X container app manually, the policy result will also be updated. This type policy has a param called check-interval (seconds), if this policy has been activated by any request then the interval will be considered. If the alive-checking is true, then even the policy is in the idle state the interval will still be considered and the benchmark will be launched.
# url-latency-benchmark 策略指向具有最佳（将考虑参数容差毫秒）URL 延迟结果的服务器。当用户在 Quantumult X 容器应用中手动启动 URL 测试时，策略结果也将更新。此类策略有一个名为 check-interval（秒）的参数，如果此策略已被任何请求激活，则将考虑该间隔。如果 alive-checking 为 true，那么即使策略处于空闲状态，间隔仍将被考虑并且基准测试将被启动。
# ssid policy points to the server depending on the network environment.
# ssid 策略根据网络环境指向服务器。
# Param resource-tag-regex and server-tag-regex only work for static, available and round-robin type of polices.
# 参数 resource-tag-regex 和 server-tag-regex 仅适用于静态、可用性和轮询类型的策略。
#
[policy]
;static = policy-name-1, Sample-A, Sample-B, Sample-C, img-url=http://example.com/icon.png
;available = policy-name-2, Sample-A, Sample-B, Sample-C
;round-robin = policy-name-3, Sample-A, Sample-B, Sample-C
;ssid = policy-name-4, Sample-A, Sample-B, LINK_22E171:Sample-B, LINK_22E172:Sample-C
;static = policy-name-5, resource-tag-regex=^sample, server-tag-regex=^example, img-url=http://example.com/icon.png
;available = policy-name-6, resource-tag-regex=^sample, server-tag-regex=^example
;round-robin = policy-name-7, resource-tag-regex=^sample, server-tag-regex=^example
;dest-hash = policy-name-8, resource-tag-regex=^sample, server-tag-regex=^example
;url-latency-benchmark = policy-name-9, resource-tag-regex=^sample, server-tag-regex=^example, check-interval=600, alive-checking=false, tolerance=0

# [server_remote]
# Params "tag" and "enabled" are optional.
# 参数 "tag" 和 "enabled" 是可选的。
# The default sync interval for all kinds of remote resources is 86400 seconds.
# 所有类型远程资源的默认同步间隔为86400秒。
# You can set update-interval=172800 to customize your auto sync interval(seconds), negative number means disable auto sync.
# 你可以设置 update-interval=172800 来自定义自动同步间隔（秒），负数表示禁用自动同步。
# If the require-devices is set, this line of configuration will only be loaded when current Quantumult device ID belongs to the require-devices. The Quantumult device ID can be found in "Settings - Misc Settings - About".
# 如果设置了 require-devices，则仅当当前 Quantumult 设备 ID 属于 require-devices 时，才会加载此配置行。Quantumult 设备 ID 可以在"设置 - 杂项设置 - 关于"中找到。
#
[server_remote]
;https://raw.githubusercontent.com/crossutility/Quantumult-X/master/server.snippet, tag=Sample-01
;https://raw.githubusercontent.com/crossutility/Quantumult-X/master/server.snippet, opt-parser=true, tag=Sample-01
;https://raw.githubusercontent.com/crossutility/Quantumult-X/master/server.snippet, update-interval=-1, tag=Sample-01
;https://raw.githubusercontent.com/crossutility/Quantumult-X/master/server-complete.snippet, tag=Sample-02, as-policy=static, img-url=http://example.com/icon.png, enabled=false
;https://example.com/server.snippet, tag=Sample-03, img-url=http://example.com/icon.png, require-devices=ID1, ID2, enabled=false

# [filter_remote]
# Params "tag", "force-policy" and "enabled" are optional.
# 参数 "tag"、"force-policy" 和 "enabled" 是可选的。
# When there is a force-policy, then the policy in filter of remote resource will be ignored and the force-policy will be used.
# 当设置了 force-policy 时，远程资源过滤器中的策略将被忽略，并使用 force-policy。
#
[filter_remote]
FILTER_LAN, tag=LAN, force-policy=direct, enabled=true
FILTER_REGION, tag=CN, force-policy=direct, enabled=true
;https://raw.githubusercontent.com/crossutility/Quantumult-X/master/filter.snippet, tag=Sample, force-policy=your-policy-name, enabled=true
;https://example.com/filter.snippet, tag=Sample, force-policy=your-policy-name, require-devices=ID1, ID2, enabled=true

# [rewrite_remote]
# Params "tag" and "enabled" are optional.
# 参数 "tag" 和 "enabled" 是可选的。
#
[rewrite_remote]
;https://raw.githubusercontent.com/crossutility/Quantumult-X/master/sample-import-rewrite.snippet, tag=Sample, enabled=true
;https://example.com/rewrite.snippet, tag=Sample, require-devices=ID1, ID2, enabled=true

# [server_local]
# Only obfs=http, obfs=ws, obfs=wss can have optional "obfs-uri" field.
# 只有 obfs=http、obfs=ws、obfs=wss 可以有可选的 "obfs-uri" 字段。
# The obfs-host param in wss will be used for TLS handshake and for HTTP header host field, if obfs-host is not set for wss the server address will be used.
# wss 中的 obfs-host 参数将用于 TLS 握手和 HTTP 头部主机字段，如果 wss 未设置 obfs-host，则将使用服务器地址。
# When using obfs=ws and obfs=wss the server side can be deployed by v2ray-plugin with mux = 0 or by v2ray-core or the trojan-go.
# 使用 obfs=ws 和 obfs=wss 时，服务器端可以通过 v2ray-plugin（mux = 0）或 v2ray-core 或 trojan-go 部署。
# It is worth noting that the udp-over-tcp for shadowsocks is default (udp-over-tcp=true) supported by the server deployed with shadowsocksr python server, other versions should specifically set the version string like "udp-over-tcp=sp.v1" for Xray server or "udp-over-tcp=sp.v2" for version 2 supported servers like sing-box. If you are combing udp-relay and udp-over-tcp for shadowsocks you must be sure your server is deployed with shadowsocksr python, Xray or other supported servers.
# 值得注意的是，shadowsocks 的 udp-over-tcp 默认（udp-over-tcp=true）由部署了 shadowsocksr python 服务器的服务器支持，其他版本应特别设置版本字符串，如 Xray 服务器使用 "udp-over-tcp=sp.v1" 或支持版本 2 的服务器（如 sing-box）使用 "udp-over-tcp=sp.v2"。如果你同时使用 shadowsocks 的 udp-relay 和 udp-over-tcp，必须确保你的服务器是使用 shadowsocksr python、Xray 或其他支持的服务器部署的。
# The shadowsocksr python server does NOT support udp-over-tcp for "2022-blake3-aes-128-gcm" and "2022-blake3-aes-256-gcm", so if you prefer the shadowsocks 2022 methods, please deploy udp-over-tcp using Xray or other supported servers and set the "udp-over-tcp=sp.v1" or "udp-over-tcp=sp.v2" for Quantumult X.
# shadowsocksr python 服务器不支持 "2022-blake3-aes-128-gcm" 和 "2022-blake3-aes-256-gcm" 的 udp-over-tcp，因此如果你偏好 shadowsocks 2022 方法，请使用 Xray 或其他支持的服务器部署 udp-over-tcp，并为 Quantumult X 设置 "udp-over-tcp=sp.v1" 或 "udp-over-tcp=sp.v2"。
# It is worth noting that the obfs=tls is different from the obfs=over-tls. The obfs=tls is the obfuscation plugin related to shadowsocks project, it is just an obfuscation of the TLS protocol. The obfs=over-tls is the TLS protocol. Quantumult X supports both of them for shadowsocks.
# 值得注意的是，obfs=tls 与 obfs=over-tls 不同。obfs=tls 是与 shadowsocks 项目相关的混淆插件，它只是 TLS 协议的一种混淆。obfs=over-tls 是 TLS 协议。Quantumult X 对 shadowsocks 同时支持这两种方式。
# The obfs plugin tls1.2_ticket_auth has one more RTT than tls1.2_ticket_fastauth and obfs tls, you'd better use tls1.2_ticket_fastauth instead.
# obfs 插件 tls1.2_ticket_auth 比 tls1.2_ticket_fastauth 和 obfs tls 多一个 RTT，你最好使用 tls1.2_ticket_fastauth 代替。
# The method chacha20-ietf-poly1305 and chacha20-poly1305 have the same effect in VMess configuration.
# 在 VMess 配置中，chacha20-ietf-poly1305 和 chacha20-poly1305 方法具有相同的效果。
# The tls-cert-sha256 or tls-pubkey-sha256 used for SSL pinning can be generated by openssl using below commands:
# 用于 SSL 固定的 tls-cert-sha256 或 tls-pubkey-sha256 可以使用 openssl 通过以下命令生成：
# openssl x509 -noout -fingerprint -sha256 -inform pem -in your-cert.pem
# openssl x509 -inform pem -pubkey -noout < your-cert.pem | openssl pkey -pubin -outform der | openssl dgst -sha256
# If the tls-verification is false then the tls-cert-sha256 and tls-pubkey-sha256 will be ignored.
# 如果 tls-verification 为 false，则 tls-cert-sha256 和 tls-pubkey-sha256 将被忽略。
# If the tls-pubkey-sha256 is set then the tls-cert-sha256 will be ignored.
# 如果设置了 tls-pubkey-sha256，则 tls-cert-sha256 将被忽略。
# The optional tls-alpn for TLS is hex format of the ALPN extension content, eg: "02:68:32:08:68:74:74:70:2f:31:2e:31" or "02683208687474702f312e31" represents ALPN "h2" and "http/1.1" ({2, 'h', '2', 8, 'h', 't', 't', 'p', '/', '1', '.', '1'})
# TLS 的可选 tls-alpn 是 ALPN 扩展内容的十六进制格式，例如："02:68:32:08:68:74:74:70:2f:31:2e:31" 或 "02683208687474702f312e31" 表示 ALPN "h2" 和 "http/1.1" ({2, 'h', '2', 8, 'h', 't', 't', 'p', '/', '1', '.', '1'})
# The tls-no-session-ticket param for TLS is optional, this is only for special use cases. By default session ticket is enabled (tls-no-session-ticket=false). If you want to disable sessioin ticket just set tls-no-session-ticket=true, keep in mind that the session may still be reused from session ID for new connection if server supports it.
# TLS 的 tls-no-session-ticket 参数是可选的，这仅用于特殊用例。默认情况下，会话票证是启用的（tls-no-session-ticket=false）。如果你想禁用会话票证，只需设置 tls-no-session-ticket=true，请记住，如果服务器支持，会话仍可能从会话 ID 重用于新连接。
# The tls-no-session-reuse param for TLS is optional, this is only for special use cases. By default session reuse is enabled (tls-no-session-reuse=false). If you want to disable sessioin reuse just set tls-no-session-reuse=true, this will force Quantumult X perform a full TLS handshake for every new connection.
# TLS 的 tls-no-session-reuse 参数是可选的，这仅用于特殊用例。默认情况下，会话重用是启用的（tls-no-session-reuse=false）。如果你想禁用会话重用，只需设置 tls-no-session-reuse=true，这将强制 Quantumult X 为每个新连接执行完整的 TLS 握手。
# The tls13 param has been deprecated (deprecated since v1.0.26), and TLS version 1.3 is always supported no matter what you set.
# tls13 参数已被弃用（自 v1.0.26 起弃用），无论你如何设置，TLS 版本 1.3 始终受支持。
# The obfs=http for shadowsocks protocol follows the shadowsocks project's simple-obfs plugin. The obfs=http for VMess protocol follows V2Ray's implementation. These 2 obfuscations are totally different. Sometimes to comply with your special server settings (「shadowsocks」 + 「http obfuscation of VMess」 or 「VMess」 + 「http obfuscation of shadowsocks」. The latter rarely happens, and the former happens when the server side deployed by V2Ray (or similar programs) with shadowsocks protocol and V2Ray built-in http obfuscation), you may set obfs=vemss-http for shadowsocks protocol, or obfs=shadowsocks-http for vmess protocol.
# shadowsocks 协议的 obfs=http 遵循 shadowsocks 项目的 simple-obfs 插件。VMess 协议的 obfs=http 遵循 V2Ray 的实现。这两种混淆完全不同。有时为了符合你的特殊服务器设置（「shadowsocks」 + 「VMess 的 http 混淆」或「VMess」 + 「shadowsocks 的 http 混淆」。后者很少发生，前者发生在服务器端由 V2Ray（或类似程序）部署，使用 shadowsocks 协议和 V2Ray 内置的 http 混淆），你可以为 shadowsocks 协议设置 obfs=vemss-http，或为 vmess 协议设置 obfs=shadowsocks-http。
#
[server_local]
;shadowsocks=example.com:80, method=2022-blake3-aes-128-gcm, password=BJDBGeLKx/JbEACCSN5rRg==, udp-relay=true, tag=ss2022-blake3-aes-128-gcm
;shadowsocks=example.com:80, method=2022-blake3-aes-256-gcm, password=RBUjIfGi9eThH+rkxXI0j1EdSGAZEf1jN9x1vn+Tf04=, udp-relay=true, tag=ss2022-blake3-aes-256-gcm
;shadowsocks=example.com:80, method=2022-blake3-aes-128-gcm, password=BJDBGeLKx/JbEACCSN5rRg==, obfs=http, obfs-host=bing.com, obfs-uri=/resource/file, udp-relay=true, tag=ss2022-obfs-http
;shadowsocks=example.com:443, method=2022-blake3-aes-128-gcm, password=BJDBGeLKx/JbEACCSN5rRg==, obfs=tls, obfs-host=bing.com, fast-open=false, udp-relay=true, tag=ss2022-obfs-tls
;shadowsocks=example.com:443, method=2022-blake3-aes-128-gcm, password=BJDBGeLKx/JbEACCSN5rRg==, obfs=over-tls, obfs-host=your.certificate.sni.name, tls-verification=true, udp-relay=true, tag=ss2022-tls-01

;shadowsocks=example.com:80, method=2022-blake3-aes-128-gcm, password=BJDBGeLKx/JbEACCSN5rRg==, udp-relay=true, udp-over-tcp=sp.v1, tag=ss2022-blake3-aes-128-gcm-uot
;shadowsocks=example.com:80, method=2022-blake3-aes-128-gcm, password=BJDBGeLKx/JbEACCSN5rRg==, udp-relay=true, udp-over-tcp=sp.v2, tag=ss2022-blake3-aes-128-gcm-uot2
;shadowsocks=example.com:443, method=2022-blake3-aes-128-gcm, password=BJDBGeLKx/JbEACCSN5rRg==, obfs=over-tls, obfs-host=your.certificate.sni.name, tls-verification=true, udp-relay=true, udp-over-tcp=sp.v1, tag=ss2022-blake3-aes-128-gcm-tls-uot
;shadowsocks=example.com:443, method=2022-blake3-aes-128-gcm, password=BJDBGeLKx/JbEACCSN5rRg==, obfs=over-tls, obfs-host=your.certificate.sni.name, tls-verification=true, udp-relay=true, udp-over-tcp=sp.v2, tag=ss2022-blake3-aes-128-gcm-tls-uot2
;shadowsocks=example.com:443, method=2022-blake3-aes-128-gcm, password=BJDBGeLKx/JbEACCSN5rRg==, obfs=over-tls, obfs-host=your.certificate.sni.name, tls-verification=true,tls-pubkey-sha256=eb5ec6684564fd0d04975903ed75342d1b9fdc2096ea54b4cf8caf4740f4ae25, udp-relay=true, udp-over-tcp=sp.v2, tag=ss2022-blake3-aes-128-gcm-tls-uot3

;shadowsocks=example.com:80, method=chacha20, password=pwd, obfs=http, obfs-host=bing.com, obfs-uri=/resource/file, fast-open=false, udp-relay=false, server_check_url=http://www.apple.com/generate_204, tag=ss-obfs-http-01
;shadowsocks=example.com:80, method=chacha20, password=pwd, obfs=http, obfs-host=bing.com, obfs-uri=/resource/file, fast-open=false, udp-relay=false, tag=ss-obfs-http-02
;shadowsocks=example.com:443, method=chacha20, password=pwd, obfs=tls, obfs-host=bing.com, fast-open=false, udp-relay=false, tag=ss-obfs-tls-01
;shadowsocks=example.com:443, method=chacha20, password=pwd, obfs=over-tls, obfs-host=bing.com, tls-verification=true, tls-cert-sha256=b0088370d6c8e02d6e38c443abf81be2aaf1e18f00435aaf0b39852c338f7aaa, fast-open=false, udp-relay=false, tag=ss-tls-01
;shadowsocks=example.com:443, method=chacha20, password=pwd, obfs=over-tls, obfs-host=bing.com, tls-verification=true, tls-pubkey-sha256=eb5ec6684564fd0d04975903ed75342d1b9fdc2096ea54b4cf8caf4740f4ae25, fast-open=false, udp-relay=false, tag=ss-tls-02
;shadowsocks=example.com:443, method=chacha20, password=pwd, obfs=over-tls, obfs-host=bing.com, tls-verification=true, tls-pubkey-sha256=eb5ec6684564fd0d04975903ed75342d1b9fdc2096ea54b4cf8caf4740f4ae25, tls-alpn=02683208687474702f312e31, fast-open=false, udp-relay=false, tag=ss-tls-03
;shadowsocks=example.com:443, method=chacha20, password=pwd, ssr-protocol=auth_chain_b, ssr-protocol-param=def, obfs=tls1.2_ticket_fastauth, obfs-host=bing.com, tag=ssr
;shadowsocks=example.com:80, method=aes-128-gcm, password=pwd, obfs=ws, fast-open=false, udp-relay=false, tag=ss-ws-01
;shadowsocks=example.com:80, method=aes-128-gcm, password=pwd, obfs=ws, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=ss-ws-02
;shadowsocks=example.com:443, method=aes-128-gcm, password=pwd, obfs=wss, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=ss-ws-tls-01
;shadowsocks=example.com:443, method=aes-128-gcm, password=pwd, obfs=wss, obfs-uri=/ws, tls13=true, fast-open=false, udp-relay=false, tag=ss-ws-tls-02
;shadowsocks=example.com:80, method=chacha20, password=pwd, fast-open=false, udp-relay=true, udp-over-tcp=true, tag=ss-udp-over-tcp
#
# To disable aead header for vmess, just set aead=false, the default value is true. If your server(V2Ray) version is less than v4.28 please set aead=false
# 要禁用vmess的aead头部，只需设置aead=false，默认值为true。如果你的服务器(V2Ray)版本低于v4.28，请设置aead=false
;vmess=example.com:80, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, fast-open=false, udp-relay=false, tag=vmess-01
;vmess=example.com:80, method=aes-128-gcm, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, fast-open=false, udp-relay=false, aead=false, tag=vmess-02
;vmess=example.com:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=over-tls, fast-open=false, udp-relay=false, tag=vmess-tls-01
;vmess=example.com:80, method=chacha20-poly1305, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=http, obfs-host=bing.com, obfs-uri=/resource/file, fast-open=false, udp-relay=false, server_check_url=http://www.apple.com/generate_204, tag=vmess-http
;vmess=192.168.1.1:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=over-tls, obfs-host=example.com, fast-open=false, udp-relay=false, tag=vmess-tls-02
;vmess=192.168.1.1:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=over-tls, obfs-host=example.com, tls13=true, fast-open=false, udp-relay=false, tag=vmess-tls-03
;vmess=example.com:80, method=chacha20-poly1305, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=ws, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=vmess-ws-01
;vmess=192.168.1.1:80, method=chacha20-poly1305, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=ws, obfs-host=example.com, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=vmess-ws-02
;vmess=example.com:443, method=chacha20-poly1305, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=wss, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=vmess-ws-tls-01
;vmess=192.168.1.1:443, method=chacha20-poly1305, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=wss, obfs-host=example.com, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=vmess-ws-tls-02
;vmess=192.168.1.1:443, method=chacha20-poly1305, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=wss, obfs-host=example.com, obfs-uri=/ws, tls13=true, fast-open=false, udp-relay=false, tag=vmess-ws-tls-03
#
# The method field for vless should be none.
# vless 的 method 字段应该为 none。
;vless=example.com:80, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, fast-open=false, udp-relay=false, tag=vless-01
;vless=example.com:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=over-tls, fast-open=false, udp-relay=false, tag=vless-tls-01
;vless=example.com:80, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=http, obfs-host=bing.com, obfs-uri=/resource/file, fast-open=false, udp-relay=false, server_check_url=http://www.apple.com/generate_204, tag=vless-http
;vless=192.168.1.1:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=over-tls, obfs-host=example.com, fast-open=false, udp-relay=false, tag=vless-tls-02
;vless=192.168.1.1:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=over-tls, obfs-host=example.com, tls13=true, fast-open=false, udp-relay=false, tag=vless-tls-03
;vless=example.com:80, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=ws, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=vless-ws-01
;vless=192.168.1.1:80, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=ws, obfs-host=example.com, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=vless-ws-02
;vless=example.com:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=wss, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=vless-ws-tls-01
;vless=192.168.1.1:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=wss, obfs-host=example.com, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=vless-ws-tls-02
;vless=192.168.1.1:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=wss, obfs-host=example.com, obfs-uri=/ws, tls13=true, fast-open=false, udp-relay=false, tag=vless-ws-tls-03
#
# The obfs field is not supported for http
# obfs 字段不支持 http
;http=example.com:80,fast-open=false, udp-relay=false, tag=http-01
;http=example.com:80, username=name, password=pwd, fast-open=false, udp-relay=false, tag=http-02
;http=example.com:443, username=name, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, fast-open=false, udp-relay=false, tag=http-tls-01
;http=example.com:443, username=name, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, tls-pubkey-sha256=eb5ec6684564fd0d04975903ed75342d1b9fdc2096ea54b4cf8caf4740f4ae25, fast-open=false, udp-relay=false, tag=http-tls-02
;http=example.com:443, username=name, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, tls-pubkey-sha256=eb5ec6684564fd0d04975903ed75342d1b9fdc2096ea54b4cf8caf4740f4ae25, tls-alpn=02683208687474702f312e31, fast-open=false, udp-relay=false, tag=http-tls-03
#
;socks5=example.com:80,fast-open=false, udp-relay=false, tag=socks5-01
;socks5=example.com:80, username=name, password=pwd, fast-open=false, udp-relay=false, tag=socks5-02
;socks5=example.com:443, username=name, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, fast-open=false, udp-relay=false, tag=socks5-tls-01
;socks5=example.com:443, username=name, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, tls-pubkey-sha256=eb5ec6684564fd0d04975903ed75342d1b9fdc2096ea54b4cf8caf4740f4ae25, fast-open=false, udp-relay=false, tag=socks5-tls-02
;socks5=example.com:443, username=name, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, tls-pubkey-sha256=eb5ec6684564fd0d04975903ed75342d1b9fdc2096ea54b4cf8caf4740f4ae25, tls-alpn=02683208687474702f312e31, fast-open=false, udp-relay=false, tag=socks5-tls-03
#
# The obfs field is only supported with websocket over tls for trojan. When using websocket over tls you should not set over-tls and tls-host options anymore, instead set obfs=wss and obfs-host options.
# obfs 字段仅支持在 Trojan 的 websocket over tls 中使用。当使用 websocket over tls 时，您不再需要设置 over-tls 和 tls-host 选项，而是应设置 obfs=wss 和 obfs-host 选项。

;trojan=example.com:443, password=pwd, over-tls=true, tls-verification=true, fast-open=false, udp-relay=false, tag=trojan-tls-01
;trojan=example.com:443, password=pwd, over-tls=true, tls-verification=true, tls13=true, fast-open=false, udp-relay=false, tag=trojan-tls-02
;trojan=192.168.1.1:443, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, fast-open=false, udp-relay=false, tag=trojan-tls-03
;trojan=192.168.1.1:443, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, tls13=true, fast-open=false, udp-relay=false, tag=trojan-tls-04
;trojan=192.168.1.1:443, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, tls-cert-sha256=b0088370d6c8e02d6e38c443abf81be2aaf1e18f00435aaf0b39852c338f7aaa, tls13=true, fast-open=false, udp-relay=false, tag=trojan-tls-05
;trojan=192.168.1.1:443, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, tls-pubkey-sha256=eb5ec6684564fd0d04975903ed75342d1b9fdc2096ea54b4cf8caf4740f4ae25, tls13=true, fast-open=false, udp-relay=false, tag=trojan-tls-06
;trojan=192.168.1.1:443, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, tls-pubkey-sha256=eb5ec6684564fd0d04975903ed75342d1b9fdc2096ea54b4cf8caf4740f4ae25, tls-alpn=02683208687474702f312e31, tls13=true, fast-open=false, udp-relay=false, tag=trojan-tls-07
;trojan=192.168.1.1:443, password=pwd, obfs=wss, obfs-host=example.com, obfs-uri=/path, udp-relay=true, tag=trojan-wss-05

[filter_local]
;user-agent, ?abc*, proxy
;host, www.google.com, proxy
;host-keyword, adsite, reject
;host-wildcard, *.goo?le.com, proxy
;host-suffix, googleapis.com, proxy
;host-suffix, googleapis.com, proxy, force-cellular
;host-suffix, googleapis.com, proxy, multi-interface
;host-suffix, googleapis.com, proxy, multi-interface-balance
;host-suffix, googleapis.com, proxy, via-interface=pdp_ip0
;ip6-cidr, 2001:4860:4860::8888/32, direct
;ip-cidr, 10.0.0.0/8, direct
;ip-cidr, 127.0.0.0/8, direct
;ip-cidr, 172.16.0.0/12, direct
;ip-cidr, 192.168.0.0/16, direct
;ip-cidr, 224.0.0.0/24, direct
;geoip, cn, direct
;geoip, cn, direct, force-cellular
;ip-asn, 6185, proxy
# You can add below host-keyword rule to skip the DNS query for all the non-matched hosts. Pure IP requests won't be matched by the host related rules.
# 您可以添加下面的 host-keyword 规则来跳过对所有不匹配主机的 DNS 查询。纯 IP 请求不会被主机相关规则匹配。
;host-keyword, ., proxy
final, proxy


# [rewrite_local]
# The "reject" returns HTTP status code 404 with no content. This type of rewrite has some kind of dynamic delay (0~5 seconds) mechanism of response for repeated requests in a short period of time. The less the repetition, the shorter the delay (0). The more the repetition, the greater the delay (5).
# "reject" 返回 HTTP 状态码 404，没有内容。这种类型的重写对短时间内的重复请求有一种动态延迟（0~5秒）响应机制。重复次数越少，延迟越短（0）。重复次数越多，延迟越长（5）。

# The "reject-200" returns HTTP status code 200 with no content.
# "reject-200" 返回 HTTP 状态码 200，没有内容。

# The "reject-img" returns HTTP status code 200 with content of 1px gif.
# "reject-img" 返回 HTTP 状态码 200，内容为 1 像素的 gif 图片。

# The "reject-dict" returns HTTP status code 200 with content of empty json object.
# "reject-dict" 返回 HTTP 状态码 200，内容为空 JSON 对象。

# The "reject-array" returns HTTP status code 200 with content of empty json array.
# "reject-array" 返回 HTTP 状态码 200，内容为空 JSON 数组。

# The "request-header" works for all the http headers not just one single header, so you can match two or more headers including CRLF in one regular expression.
# "request-header" 适用于所有 HTTP 头部而不仅仅是单个头部，因此您可以在一个正则表达式中匹配两个或更多头部，包括 CRLF。

# The "echo-response" just reply back the body of the content type response for matched URL, the body file should be saved at "On My iPhone - Quantumult X - Data".
# "echo-response" 只是回复匹配 URL 的内容类型响应的正文，正文文件应保存在 "我的 iPhone - Quantumult X - Data" 中。

# The length and encoding related HTTP header fields will be automatically processed by Quantumult if the "rewrite" is body related, so you should not handle them by yourself. The max supported original response body size is 4 MB(iOS 13+) for script-response-body.
# 如果 "rewrite" 与正文相关，Quantumult 将自动处理长度和编码相关的 HTTP 头字段，因此您不应自行处理它们。script-response-body 支持的最大原始响应正文大小为 4 MB（iOS 13+）。

# The body related rewrite will not be executed if the body is empty.
# 如果正文为空，则不会执行与正文相关的重写。

# When using javascript in rewrite, you can use those objects: $request, $response, $notify(title, subtitle, message), console.log(message) and Quantumult's built-in objects all have prefix "$".
# 在重写中使用 JavaScript 时，您可以使用这些对象：$request, $response, $notify(title, subtitle, message), console.log(message)，Quantumult 的所有内置对象都带有前缀 "$"。

# Supports: $request.sessionIndex, $request.scheme, $request.method, $request.url, $request.path, $request.headers,$response.sessionIndex, $response.statusCode, $response.headers, $response.body
# 支持：$request.sessionIndex, $request.scheme, $request.method, $request.url, $request.path, $request.headers,$response.sessionIndex, $response.statusCode, $response.headers, $response.body

# The $request.sessionIndex is equal to $response.sessionIndex when the response is related to the request. The sessionIndex has nothing to do with the index of TCP records in the orange "Activity" panel.
# 当响应与请求相关时，$request.sessionIndex 等于 $response.sessionIndex。sessionIndex 与橙色"活动"面板中的 TCP 记录索引无关。

# The $notify(title, subtitle, message) will post iOS notifications if Quantumult notification has been enabled.
# 如果启用了 Quantumult 通知，$notify(title, subtitle, message) 将发送 iOS 通知。

# The $prefs is for persistent store: $prefs.valueForKey(key), $prefs.setValueForKey(value, key), $prefs.removeValueForKey(key), $prefs.removeAllValues().
# $prefs 用于持久存储：$prefs.valueForKey(key), $prefs.setValueForKey(value, key), $prefs.removeValueForKey(key), $prefs.removeAllValues()。

# The console.log(message)  will output logs to Quantumult log file.
# console.log(message) 将输出日志到 Quantumult 日志文件。

# The setTimeout(function() { }, interval) will run function after interval(ms).
# setTimeout(function() { }, interval) 将在 interval(毫秒)后运行函数。

# The scripts for script-request-header, script-request-body, script-response-header, script-response-body, script-echo-response and script-analyze-echo-response should be saved in local "On My iPhone - Quantumult X - Scripts" or "iCloud Drive - Quantumult X - Scripts". Samples can be found at https://github.com/crossutility/Quantumult-X
# script-request-header, script-request-body, script-response-header, script-response-body, script-echo-response 和 script-analyze-echo-response 的脚本应保存在本地 "我的 iPhone - Quantumult X - Scripts" 或 "iCloud Drive - Quantumult X - Scripts" 中。示例可在 https://github.com/crossutility/Quantumult-X 找到。

# The difference between script-analyze-echo-response and script-echo-response is that the former will wait for the request body.
# script-analyze-echo-response 和 script-echo-response 的区别在于前者会等待请求正文。

#
# The HTTP(HTTPS) request will be matched if the URL and the headers are both matched for the url-and-header rewrite (The URL will be evaluated first, and if it is not matched then the headers will not be evaluated at all). The string of the headers to compare contains the method, path and key-value headers.
# 对于 url-and-header 重写，如果 URL 和头部都匹配，则 HTTP(HTTPS) 请求将被匹配（首先评估 URL，如果不匹配，则根本不评估头部）。用于比较的头部字符串包含方法、路径和键值头部。

#
[rewrite_local]
;^http://example\.com/resource1/1/ url reject
;^http://example\.com/resource1/2/ url reject-img
;^http://example\.com/resource1/3/ url reject-200
;^http://example\.com/resource1/4/ url reject-dict
;^http://example\.com/resource1/5/ url reject-array
;^http://example\.com/resource2/ url 302 http://example.com/new-resource2/
;^http://example\.com/resource3/ url 307 http://example.com/new-resource3/
;^http://example\.com/resource4/ url request-header ^GET /resource4/ HTTP/1\.1(\r\n) request-header GET /api/ HTTP/1.1$1
;^http://example\.com/resource4/ url request-header (\r\n)User-Agent:.+(\r\n) request-header $1User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36$2
;^http://example\.com/resource5/ url request-body "info":\[.+\],"others" request-body "info":[],"others"
;^http://example\.com/resource5/ url response-body "info":\[.+\],"others" response-body "info":[],"others"
;^http://example\.com/resource5/ url echo-response text/html echo-response index.html
;^http://example\.com/resource6/ url script-response-body response-body.js
;^http://example\.com/resource7/ url script-echo-response script-echo.js
;^http://example\.com/resource8/ url script-response-header response-header.js
;^http://example\.com/resource9/ url script-request-header request-header.js
;^http://example\.com/resource10/ url script-request-body request-body.js
;^http://example\.com/resource1/1/ \r\nUser-Agent: example-agent url-and-header reject
;^http://example\.com/resource1/1/ ^POST url-and-header reject


# [task_local]
# If the require-devices is set, this line of configuration will only be loaded when current Quantumult device ID belongs to the require-devices. The Quantumult device ID can be found in "Settings - Misc Settings - About".
# 如果设置了 require-devices，则此配置行仅在当前 Quantumult 设备 ID 属于 require-devices 时才会加载。Quantumult 设备 ID 可以在"设置 - 杂项设置 - 关于"中找到。
# The $task.fetch() compose a HTTP request and deal with the response, only text body is supported. A $task.fetch() can be embeded in the completion handler of another $task.fetch(), if you want serial requests not current requests.
# $task.fetch() 组成一个 HTTP 请求并处理响应，仅支持文本正文。如果您想要串行请求而不是并发请求，可以在另一个 $task.fetch() 的完成处理程序中嵌入 $task.fetch()。
# The scripts should be saved in local "On My iPhone - Quantumult X - Scripts" or "iCloud Drive - Quantumult X - Scripts". Samples can be found at https://github.com/crossutility/Quantumult-X/blob/master/sample-task.js
# 脚本应保存在本地"我的 iPhone - Quantumult X - Scripts"或"iCloud Drive - Quantumult X - Scripts"中。示例可在 https://github.com/crossutility/Quantumult-X/blob/master/sample-task.js 找到。
# The default HTTP request timeout is 10 seconds.
# 默认 HTTP 请求超时时间为 10 秒。
#
# Supports 5 or 6 fields of cron excluding the command field. The event-network will be triggered when network changed. The event-interaction will be triggered when user tapped a UIAction. The event related task only can be triggered when the Quantumult X Tunnel is running.
# 支持 5 或 6 个 cron 字段（不包括命令字段）。当网络变化时，event-network 将被触发。当用户点击 UIAction 时，event-interaction 将被触发。事件相关任务只能在 Quantumult X Tunnel 运行时触发。
#
[task_local]
;* * * * * sample-task.js
;* * * * * sample-task2.js, img-url=https://raw.githubusercontent.com/crossutility/Quantumult-X/master/quantumult-x.png, tag=Sample, enabled=true
;* * * * * sample-task3.js, img-url=https://raw.githubusercontent.com/crossutility/Quantumult-X/master/quantumult-x.png, tag=Sample, require-devices=ID1, ID2, enabled=true
;event-network sample-task3.js
;event-interaction sample-task4.js
#
# Just like any web browser, http(s) url string after # is never sent to the server. You can add # to the script http(s) url to append customized params, and using API $environment.sourcePath to get the whole path (https://example.com/sample.js#this-is-not-sent-to-server&key1=value1&key2=value2) and extract the customized params in the script by yourself.
# 就像任何网页浏览器一样，# 后面的 http(s) URL 字符串永远不会发送到服务器。您可以在脚本 http(s) URL 后添加 # 来附加自定义参数，并使用 API $environment.sourcePath 获取完整路径（https://example.com/sample.js#this-is-not-sent-to-server&key1=value1&key2=value2），然后在脚本中自行提取自定义参数。
#
;* * * * * https://example.com/sample.js#this-is-not-sent-to-server&key1=value1&key2=value2, tag=Sample, enabled=true


# [http_backend]
# Deploy a local HTTP server and use JavaScript for data processing.
# 部署本地HTTP服务器并使用JavaScript进行数据处理。
# If the require-devices is set, this line of configuration will only be loaded when current Quantumult device ID belongs to the require-devices. The Quantumult device ID can be found in "Settings - Misc Settings - About".
# 如果设置了require-devices，则此配置行仅在当前Quantumult设备ID属于require-devices时才会加载。Quantumult设备ID可以在"设置 - 杂项设置 - 关于"中找到。
# The input variables are $reqeust.url, $reqeust.path, $reqeust.headers, $reqeust.body
# 输入变量包括$reqeust.url、$reqeust.path、$reqeust.headers、$reqeust.body
# The output using $done like $done({status:"HTTP/1.1 200 OK"}, headers:{}, body:"here is a string") to sendback the response.
# 使用$done输出响应，如$done({status:"HTTP/1.1 200 OK"}, headers:{}, body:"here is a string"})来发送回应。
# Further more you can use a signature or any other validation method to verify if the request is legitimate.
# 此外，您可以使用签名或任何其他验证方法来验证请求是否合法。
# After the deployment you should visit it through http://127.0.0.1:9999/your-path/your-api/.
# 部署后，您应通过http://127.0.0.1:9999/your-path/your-api/访问它。
#
[http_backend]
;https://raw.githubusercontent.com/crossutility/Quantumult-X/master/sample-backend.js, tag=fileConverter, path=^/example/v1/
;preference.js, tag=userPreference, path=^/preference/v1/, img-url=https://example.com, enabled=true
;sample.js, tag=sample, path=^/sample/v1/, require-devices=ID1, ID2, enabled=true
;convert.js, tag=fileConverter, path=^/convert/v1/


# [mitm]
# If the source IP of the TCP connection is matched by the skip_src_ip, the hostname will not be evaluated. The wildcard * and ? are supported.
# 如果TCP连接的源IP与skip_src_ip匹配，则不会评估主机名。支持通配符*和?。
# If the destination IP of the TCP connection is matched by the skip_dst_ip, the hostname will not be evaluated. The wildcard * and ? are supported.
# 如果TCP连接的目标IP与skip_dst_ip匹配，则不会评估主机名。支持通配符*和?。
# Only the TLS SNI or destination address in "hostname" will be handled by MitM. The wildcard * and ? are supported.
# 只有"hostname"中的TLS SNI或目标地址将由MitM处理。支持通配符*和?。
#
# Important !!! You should always keep your CA passphrase and p12 private.
# 重要！！！您应始终保持CA密码和p12文件的私密性。
#
[mitm]
;passphrase =
;p12 =
;skip_validating_cert = false
;skip_src_ip = 192.168.1.5, 192.168.1.6
;skip_dst_ip = 17.0.0.1
;hostname = *.example.com, *.sample.com, non-existed-domain.com, *.non-connected-domain.com
